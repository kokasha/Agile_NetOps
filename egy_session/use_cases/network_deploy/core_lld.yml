---

common:
  bgp_asn: 100

nodes:
  - name: vMX1
    mgmt: 192.10.0.101
    rid: 10.100.1.1
    ospf_area: 0

  - name: vMX2
    mgmt: 192.10.0.102
    rid: 10.100.2.2
    ospf_area: 0

  - name: vMX3
    mgmt: 192.10.0.103
    rid: 10.100.3.3
    ospf_area: 0

  - name: R4
    mgmt: 192.10.0.104
    rid: 10.100.4.4
    ospf_area: 1


links:
  - {left: vMX1, left_port: ge-0/0/0, subnet: 172.10.12.0/30,
      right: vMX2, right_port: ge-0/0/0, area: 0, cost: 10 }

  - {left: vMX1, left_port: ge-0/0/1, subnet: 172.10.13.0/30,
      right: vMX3, right_port: ge-0/0/0, area: 0, cost: 10 }
      
  - {left: vMX1, left_port: ge-0/0/2, subnet: 172.10.14.0/30,
      right: R4, right_port: Ethernet2/2, area: 0, cost: 10 }

  - {left: vMX2, left_port: ge-0/0/1, subnet: 172.10.23.0/30,
      right: vMX3, right_port: ge-0/0/1, area: 0, cost: 10 }

  - {left: vMX2, left_port: ge-0/0/3, subnet: 172.10.24.0/30,
      right: R4, right_port: Ethernet2/0, area: 0, cost: 10 }

bgp:
  rr: [10.100.1.1]
  clients: [10.100.2.2, 10.100.3.3,10.100.4.4]
  af:
    - inet
    - inet-vpn

ospf:
  process: 100
  network: p2p